openapi: 3.0.3
info:
  title: Taskmaster API
  description: API for managing user tasks with OAuth authentication in Taskmaster
  version: 1.0.0
  contact:
    name: API Support
  license:
    name: MIT

servers:
  - url: https://taskmaster-speakeasyapi.vercel.app/api
    description: Deployed server

security:
  - oauthToken: []
  - apiKey: []

components:
  securitySchemes:
    oauthToken:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: /api/oauth2/authorize
          tokenUrl: /api/oauth2/token
          scopes:
            openid: Access to OpenID Connect information
            profile: Access to user profile information
            email: Access to user email address

    apiKey:
      type: apiKey
      description: API key for authentication. Obtain from your account settings.
      name: x-api-key
      in: header


  schemas:
    TaskStatus:
      type: string
      enum:
        - backlog
        - triage
        - todo
        - in_progress
        - done
        - canceled
      description: Current status of the task
      example: 'todo'

    RelationshipType:
      type: string
      enum:
        - blocks
        - relates_to
        - duplicates
      description: Defines how one task relates to another.
      example: 'blocks'

    Task:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the task
          example: '550e8400-e29b-41d4-a716-446655440000'
        title:
          type: string
          maxLength: 255
          description: Title of the task
          example: 'Complete project documentation'
        description:
          type: string
          maxLength: 500
          description: Detailed description of the task
          example: 'Write comprehensive API documentation including examples'
        created_by:
          type: string
          description: ID of the user who created this task
          example: 'user_123456'
        project_id:
          type: string
          format: uuid
          description: ID of the project this task belongs to (optional)
          example: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
        status:
          $ref: '#/components/schemas/TaskStatus'
        created_at:
          type: string
          format: date-time
          description: When the task was created
          example: '2024-01-15T10:30:00Z'
        updated_at:
          type: string
          format: date-time
          description: When the task was last updated
          example: '2024-01-15T14:45:00Z'
      required:
        - id
        - title
        - description
        - created_by

    TaskRelationship:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the task relationship
          example: '780f9600-f39c-52e5-b827-557766551122'
        task_id:
          type: string
          format: uuid
          description: ID of the task that has the relationship
          example: '550e8400-e29b-41d4-a716-446655440000'
        relates_to_task_id:
          type: string
          format: uuid
          description: ID of the task that this task relates to
          example: '660f9500-f39c-52e5-b827-557766551111'
        relationship_type:
          $ref: '#/components/schemas/RelationshipType'
        created_by:
          type: string
          description: ID of the user who created this relationship
          example: 'user_123456'
        created_at:
          type: string
          format: date-time
          description: When the relationship was created
          example: '2024-01-15T11:30:00Z'
        updated_at:
          type: string
          format: date-time
          description: When the relationship was last updated
          example: '2024-01-15T11:30:00Z'
      required:
        - id
        - task_id
        - relates_to_task_id
        - relationship_type
        - created_by

    Project:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the project
          example: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
        name:
          type: string
          maxLength: 255
          description: Name of the project
          example: 'Website Redesign'
        description:
          type: string
          maxLength: 500
          description: Detailed description of the project
          example: 'Complete redesign of the company website with modern UI/UX'
        created_by:
          type: string
          description: ID of the user who created this project
          example: 'user_123456'
        created_at:
          type: string
          format: date-time
          description: When the project was created
          example: '2024-01-15T09:00:00Z'
        updated_at:
          type: string
          format: date-time
          description: When the project was last updated
          example: '2024-01-15T09:00:00Z'
      required:
        - id
        - name
        - description

    Error:
      type: object
      properties:
        message:
          type: string
          description: Error message
          example: 'Unauthorized access'
        code:
          type: integer
          description: HTTP status code
          example: 401

paths:
  /tasks:
    post:
      operationId: createTask
      summary: Create a new task
      description: Creates a new task for the authenticated user in Taskmaster
      security:
        - oauthToken: []
        - apiKey: []
      requestBody:
        description: Task data for creation
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  minLength: 1
                  maxLength: 255
                  description: Title of the task
                  example: 'Complete project documentation'
                description:
                  type: string
                  minLength: 1
                  maxLength: 500
                  description: Detailed description of the task
                  example: 'Write comprehensive API documentation including examples'
                project_id:
                  type: string
                  format: uuid
                  description: ID of the project this task belongs to (optional)
                  example: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                status:
                  $ref: '#/components/schemas/TaskStatus'
              required:
                - title
                - project_id
                - description
            examples:
              basic_task:
                summary: Basic task creation
                value:
                  title: 'Complete project setup'
                  description: 'Initialize the project with all necessary dependencies'
              task_with_project:
                summary: Task with project assignment
                value:
                  title: 'Write comprehensive tests'
                  description: 'Add test coverage for all endpoints'
                  project_id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                  status: 'todo'
      responses:
        '201':
          description: Task successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
              example:
                id: '550e8400-e29b-41d4-a716-446655440000'
                title: 'Complete project documentation'
                description: 'Write comprehensive API documentation including examples'
                created_by: 'user_123456'
                project_id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                status: 'todo'
                created_at: '2024-01-15T10:30:00Z'
                updated_at: '2024-01-15T10:30:00Z'
        '400':
          description: Bad Request - Invalid request data, JSON format, or token format
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Invalid request data'
                  errors:
                    type: object
                    description: Field-specific validation errors
                    example:
                      title: ['Title is required']
                      description: ['Description must be 500 characters or less']
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '500':
          description: Internal Server Error - Failed to create task
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Failed to create task'
    get:
      operationId: getTasks
      summary: Get all tasks for authenticated user
      description: Retrieves all tasks belonging to the authenticated user in Taskmaster. Optionally filter by project.
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: project_id
          in: query
          required: false
          description: Filter tasks by project ID
          schema:
            type: string
            format: uuid
            example: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
      responses:
        '200':
          description: Successfully retrieved tasks
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Task'
              example:
                - id: '550e8400-e29b-41d4-a716-446655440000'
                  title: 'Complete project setup'
                  description: 'Initialize the project with all necessary dependencies'
                  created_by: 'user_123456'
                  project_id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                  status: 'todo'
                  created_at: '2024-01-15T10:30:00Z'
                  updated_at: '2024-01-15T10:30:00Z'
                - id: '660f9500-f39c-52e5-b827-557766551111'
                  title: 'Write comprehensive tests'
                  description: 'Add test coverage for all Taskmaster endpoints'
                  created_by: 'user_123456'
                  project_id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                  status: 'in_progress'
                  created_at: '2024-01-15T11:00:00Z'
                  updated_at: '2024-01-15T14:30:00Z'
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '400':
          description: Bad Request - Invalid token format
          content:
            text/plain:
              schema:
                type: string
                example: 'Invalid token'

  /tasks/{id}:
    put:
      operationId: updateTask
      summary: Update a specific task
      description: Updates a task by ID for the authenticated user in Taskmaster. All fields are optional for partial updates.
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: id
          in: path
          required: true
          description: The UUID of the task to update
          schema:
            type: string
            format: uuid
            example: '550e8400-e29b-41d4-a716-446655440000'
      requestBody:
        description: Task fields to update (all optional)
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  maxLength: 255
                  description: Updated title of the task
                  example: 'Updated task title'
                description:
                  type: string
                  maxLength: 500
                  description: Updated description of the task
                  example: 'Updated task description with more details'
                status:
                  $ref: '#/components/schemas/TaskStatus'
                project_id:
                  type: string
                  format: uuid
                  description: Updated project ID for the task
                  example: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
            examples:
              partial_update:
                summary: Partial update example
                value:
                  status: 'in_progress'
              full_update:
                summary: Full update example
                value:
                  title: 'Complete project documentation'
                  description: 'Write comprehensive API documentation with examples'
                  status: 'in_progress'
                  project_id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
      responses:
        '200':
          description: Task successfully updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'
              example:
                id: '550e8400-e29b-41d4-a716-446655440000'
                title: 'Complete project documentation'
                description: 'Write comprehensive API documentation with examples'
                created_by: 'user_123456'
                project_id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                status: 'in_progress'
                created_at: '2024-01-15T10:30:00Z'
                updated_at: '2024-01-15T15:45:00Z'
        '400':
          description: Bad Request - Invalid request data, token format, or no fields provided
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Invalid request data'
                  errors:
                    type: object
                    description: Field-specific validation errors
                    example:
                      status: ['Invalid enum value. Expected backlog | triage | todo | in_progress | done | canceled']
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '404':
          description: Task not found or not owned by authenticated user
          content:
            text/plain:
              schema:
                type: string
                example: 'Not Found'
    delete:
      operationId: deleteTask
      summary: Delete a specific task
      description: Deletes a task by ID for the authenticated user in Taskmaster
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: id
          in: path
          required: true
          description: The UUID of the task to delete
          schema:
            type: string
            format: uuid
            example: '550e8400-e29b-41d4-a716-446655440000'
      responses:
        '204':
          description: Task successfully deleted
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '400':
          description: Bad Request - Invalid token format
          content:
            text/plain:
              schema:
                type: string
                example: 'Invalid token'
        '404':
          description: Task not found or not owned by authenticated user
          content:
            text/plain:
              schema:
                type: string
                example: 'Not Found'

  /tasks/{task_id}/relationships:
    get:
      operationId: getTaskRelationships
      summary: Get all relationships for a specific task
      description: Retrieves all relationships for a specific task belonging to the authenticated user in Taskmaster. Optionally filter by relationship type.
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: task_id
          in: path
          required: true
          description: The UUID of the task to get dependencies for
          schema:
            type: string
            format: uuid
            example: '550e8400-e29b-41d4-a716-446655440000'
        - name: relationship_type
          in: query
          required: false
          description: Filter relationships by type
          schema:
            $ref: '#/components/schemas/RelationshipType'
      responses:
        '200':
          description: Successfully retrieved task relationships
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TaskRelationship'
              example:
                - id: '780f9600-f39c-52e5-b827-557766551122'
                  task_id: '550e8400-e29b-41d4-a716-446655440000'
                  relates_to_task_id: '660f9500-f39c-52e5-b827-557766551111'
                  relationship_type: 'blocks'
                  created_by: 'user_123456'
                  created_at: '2024-01-15T11:30:00Z'
                  updated_at: '2024-01-15T11:30:00Z'
        '400':
          description: Bad Request - Invalid task_id format or query parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'task_id must be a valid UUID'
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '404':
          description: Task not found or not owned by authenticated user
          content:
            text/plain:
              schema:
                type: string
                example: 'Not Found'
    post:
      operationId: createTaskRelationship
      summary: Create a new task relationship
      description: >
        Creates a new relationship between two tasks for the authenticated user
        in Taskmaster. The `type` defines the what `task_id` does to
        `target_task_id`. For example, if `relationship_type` is `blocks`, then
        `task_id` blocks `target_task_id`, and `target_task_id` is blocked by
        `task_id`.
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: task_id
          in: path
          required: true
          description: The UUID of the task from which the relationship
            originates. If `type` is the verb, then `task_id` is the actor, and
            `target_task_id` is the subject.
          schema:
            type: string
            format: uuid
            example: '550e8400-e29b-41d4-a716-446655440000'
      requestBody:
        description: Task relationship data for creation
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  $ref: '#/components/schemas/RelationshipType'
                target_task_id:
                  type: string
                  format: uuid
                  description: ID of the task that is affected by this relationship
                  example: '660f9500-f39c-52e5-b827-557766551111'
              required:
                - target_task_id
                - type
            examples:
              blocks_relationship:
                summary: Create blocking relationship
                value:
                  target_task_id: '660f9500-f39c-52e5-b827-557766551111'
                  type: 'blocks'
              relates_to_relationship:
                summary: Create related relationship
                value:
                  target_task_id: '770g0600-g40d-63f6-c938-668877773333'
                  type: 'relates_to'
      responses:
        '201':
          description: Task relationship successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskRelationship'
              example:
                id: '780f9600-f39c-52e5-b827-557766551122'
                task_id: '550e8400-e29b-41d4-a716-446655440000'
                relates_to_task_id: '660f9500-f39c-52e5-b827-557766551111'
                relationship_type: 'blocks'
                created_by: 'user_123456'
                created_at: '2024-01-15T11:30:00Z'
                updated_at: '2024-01-15T11:30:00Z'
        '400':
          description: Bad Request - Invalid request data, self-referencing relationship, or invalid UUIDs
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'A task cannot relate to itself'
                  errors:
                    type: object
                    description: Field-specific validation errors
                    example:
                      relates_to_task_id: ['relates_to_task_id must be a valid UUID']
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '404':
          description: One or both tasks not found or not owned by user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'One or both tasks not found or not owned by user'
        '409':
          description: Conflict - Dependency already exists between these tasks
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Relationship already exists between these tasks'
        '500':
          description: Internal Server Error - Failed to create task relationship
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Failed to create task relationship'

  /tasks/{task_id}/relationships/{relationship_id}:
    put:
      operationId: updateTaskRelationship
      summary: Update a specific task relationship
      description: Updates the relationship type for a specific task relationship belonging to the authenticated user in Taskmaster
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: task_id
          in: path
          required: true
          description: The UUID of the task that has the relationship
          schema:
            type: string
            format: uuid
            example: '550e8400-e29b-41d4-a716-446655440000'
        - name: relationship_id
          in: path
          required: true
          description: The UUID of the relationship to update
          schema:
            type: string
            format: uuid
            example: '780f9600-f39c-52e5-b827-557766551122'
      requestBody:
        description: Task relationship fields to update
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                relationship_type:
                  $ref: '#/components/schemas/RelationshipType'
              required:
                - relationship_type
            examples:
              change_to_relates:
                summary: Change relationship type to relates_to
                value:
                  relationship_type: 'relates_to'
      responses:
        '200':
          description: Task relationship successfully updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskRelationship'
              example:
                id: '780f9600-f39c-52e5-b827-557766551122'
                task_id: '550e8400-e29b-41d4-a716-446655440000'
                relates_to_task_id: '660f9500-f39c-52e5-b827-557766551111'
                relationship_type: 'relates_to'
                created_by: 'user_123456'
                created_at: '2024-01-15T11:30:00Z'
                updated_at: '2024-01-15T15:45:00Z'
        '400':
          description: Bad Request - Invalid request data or invalid UUIDs
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Invalid request data'
                  errors:
                    type: object
                    description: Field-specific validation errors
                    example:
                      relationship_type: ['relationship_type must be one of: blocks, relates_to, duplicates']
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '404':
          description: Task or relationship not found or not owned by authenticated user
          content:
            text/plain:
              schema:
                type: string
                example: 'Not Found'
        '500':
          description: Internal Server Error - Failed to update task relationship
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Failed to update task relationship'
    delete:
      operationId: deleteTaskRelationship
      summary: Delete a specific task relationship
      description: Deletes a specific task relationship belonging to the authenticated user in Taskmaster
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: task_id
          in: path
          required: true
          description: The UUID of the task that has the relationship
          schema:
            type: string
            format: uuid
            example: '550e8400-e29b-41d4-a716-446655440000'
        - name: relationship_id
          in: path
          required: true
          description: The UUID of the relationship to delete
          schema:
            type: string
            format: uuid
            example: '780f9600-f39c-52e5-b827-557766551122'
      responses:
        '204':
          description: Task relationship successfully deleted
        '400':
          description: Bad Request - Invalid UUIDs
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'task_id and relationship_id must be valid UUIDs'
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '404':
          description: Task or relationship not found or not owned by authenticated user
          content:
            text/plain:
              schema:
                type: string
                example: 'Not Found'
        '500':
          description: Internal Server Error - Failed to delete task relationship
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Failed to delete task relationship'

  /projects:
    post:
      operationId: createProject
      summary: Create a new project
      description: Creates a new project for the authenticated user in Taskmaster
      security:
        - oauthToken: []
        - apiKey: []
      requestBody:
        description: Project data for creation
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 255
                  description: Name of the project
                  example: 'Website Redesign'
                description:
                  type: string
                  minLength: 1
                  maxLength: 500
                  description: Detailed description of the project
                  example: 'Complete redesign of the company website with modern UI/UX'
              required:
                - name
                - description
            examples:
              basic_project:
                summary: Basic project creation
                value:
                  name: 'Mobile App Development'
                  description: 'Build a cross-platform mobile application for Taskmaster'
      responses:
        '201':
          description: Project successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
              example:
                id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                name: 'Website Redesign'
                description: 'Complete redesign of the company website with modern UI/UX'
                created_by: 'user_123456'
                created_at: '2024-01-15T09:00:00Z'
                updated_at: '2024-01-15T09:00:00Z'
        '400':
          description: Bad Request - Invalid request data, JSON format, or token format
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Invalid request data'
                  errors:
                    type: object
                    description: Field-specific validation errors
                    example:
                      name: ['Name is required']
                      description: ['Description must be 500 characters or less']
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '500':
          description: Internal Server Error - Failed to create project
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Failed to create project'
    get:
      operationId: getProjects
      summary: Get all projects for authenticated user
      description: Retrieves all projects belonging to the authenticated user in Taskmaster
      security:
        - oauthToken: []
        - apiKey: []
      responses:
        '200':
          description: Successfully retrieved projects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
              example:
                - id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                  name: 'Website Redesign'
                  description: 'Complete redesign of the company website with modern UI/UX'
                  created_by: 'user_123456'
                  created_at: '2024-01-15T09:00:00Z'
                  updated_at: '2024-01-15T09:00:00Z'
                - id: '7cb8c920-aeac-22f2-91c5-668877662222'
                  name: 'Mobile App Development'
                  description: 'Build a cross-platform mobile application for Taskmaster'
                  created_by: 'user_123456'
                  created_at: '2024-01-15T10:00:00Z'
                  updated_at: '2024-01-15T11:30:00Z'
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '400':
          description: Bad Request - Invalid token format
          content:
            text/plain:
              schema:
                type: string
                example: 'Invalid token'

  /projects/{id}:
    delete:
      operationId: deleteProject
      summary: Delete a specific project
      description: Deletes a project by ID for the authenticated user in Taskmaster. Associated tasks will be automatically deleted due to cascade delete.
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: id
          in: path
          required: true
          description: The UUID of the project to delete
          schema:
            type: string
            format: uuid
            example: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
      responses:
        '204':
          description: Project successfully deleted
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '400':
          description: Bad Request - Invalid token format
          content:
            text/plain:
              schema:
                type: string
                example: 'Invalid token'
        '404':
          description: Project not found or not owned by authenticated user
          content:
            text/plain:
              schema:
                type: string
                example: 'Not Found'

  /admin/projects:
    get:
      operationId: getAdminProjects
      summary: Get all projects (admin only)
      description: Retrieves all projects in the system with optional filtering. Only available to users with @speakeasy.com email domain.
      security:
        - oauthToken: []
        - apiKey: []
      parameters:
        - name: search
          in: query
          required: false
          description: Filter projects by name (case-insensitive partial match)
          schema:
            type: string
            example: 'website'
        - name: user_id
          in: query
          required: false
          description: Filter projects by the user who created them
          schema:
            type: string
            example: 'XBh42Mcstpacyo1qMz89t3T47NuBLYp6'
      responses:
        '200':
          description: Successfully retrieved projects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
              example:
                - id: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
                  name: 'Website Redesign'
                  description: 'Complete redesign of the company website with modern UI/UX'
                  created_by: 'XBh42Mcstpacyo1qMz89t3T47NuBLYp6'
                  created_at: '2024-01-15T09:00:00Z'
                  updated_at: '2024-01-15T09:00:00Z'
                - id: '7cb8c920-aeac-22f2-91c5-668877662222'
                  name: 'Mobile App Development'
                  description: 'Build a cross-platform mobile application for Taskmaster'
                  created_by: 'YCi53Ndtuqbdzp2rNa01u4U58OvCMZq7'
                  created_at: '2024-01-15T10:00:00Z'
                  updated_at: '2024-01-15T11:30:00Z'
        '400':
          description: Bad Request - Invalid query parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Invalid query parameters'
                  errors:
                    type: object
                    description: Field-specific validation errors
                    example:
                      search: ['Search parameter must be a string']
        '401':
          description: Unauthorized - Invalid or missing authentication token
          content:
            text/plain:
              schema:
                type: string
                example: 'Unauthorized'
        '403':
          description: Forbidden - User does not have admin privileges
          content:
            text/plain:
              schema:
                type: string
                example: 'Forbidden'

tags:
  - name: tasks
    description: Operations related to task management in Taskmaster
  - name: projects
    description: Operations related to project management in Taskmaster
  - name: admin
    description: Administrative operations (restricted to @speakeasy.com users)
